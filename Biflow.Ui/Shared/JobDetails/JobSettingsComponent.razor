
<PageTitle>@Job?.JobName | Settings | Biflow</PageTitle>

<div class="row">
    <div class="col-auto">
        <div class="list-group shadow-sm">
            <button type="button" class="list-group-item list-group-item-action @(ActiveTab == SettingsTab.General ? "active" : null)"
                    @onclick="() => ActiveTab = SettingsTab.General">
                <CxIcon Icon="FeatherIcon.Sliders" />
                General
            </button>
            <button type="button" class="list-group-item list-group-item-action @(ActiveTab == SettingsTab.Execution ? "active" : null)"
                    @onclick="() => ActiveTab = SettingsTab.Execution">
                <CxIcon Icon="FeatherIcon.Tool" />
                Execution mode
            </button>
            <button type="button" class="list-group-item list-group-item-action @(ActiveTab == SettingsTab.Concurrency ? "active" : null)"
                    @onclick="() => ActiveTab = SettingsTab.Concurrency">
                <CxIcon Icon="FeatherIcon.Cpu" />
                Concurrency
            </button>
            <button type="button" class="list-group-item list-group-item-action @(ActiveTab == SettingsTab.SyncDependencies ? "active" : null)"
                    @onclick="() => ActiveTab = SettingsTab.SyncDependencies">
                <CxIcon Icon="FeatherIcon.RefreshCw" />
                Sync dependencies
            </button>
        </div>
    </div>
    <div class="col">
        <div class="card shadow-sm">
            <div class="card-body">
                @switch (ActiveTab)
                {
                    case SettingsTab.General:
                        <GeneralSettingsComponent />
                        break;
                    case SettingsTab.Execution:
                        <ExecutionSettingsComponent />
                        break;
                    case SettingsTab.Concurrency:
                        <ConcurrencySettingsComponent />
                        break;
                    case SettingsTab.SyncDependencies:
                        <SynchronizeDependenciesComponent />
                        break;
                    default:
                        <span>No component to display</span>
                        break;
                }
            </div>
        </div>
    </div>
</div>

@code {
    [CascadingParameter] public Job? Job { get; set; }

    private SettingsTab ActiveTab { get; set; } = SettingsTab.General;

    private enum SettingsTab { General, Execution, Concurrency, SyncDependencies }
}
