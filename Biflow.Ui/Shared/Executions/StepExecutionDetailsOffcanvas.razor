
﻿<HxOffcanvas @ref="Offcanvas" Size="OffcanvasSize.Large" Title="@StepExecutionAttempt?.StepExecution.StepName">
    <BodyTemplate>
        <StepExecutionDetailsComponent StepExecutionAttempt="StepExecutionAttempt" ShowExtraDetails="true" />
    </BodyTemplate>
    <FooterTemplate>
        <HxButton Color="ThemeColor.Secondary" Spinner="false" @onclick="async () => await Offcanvas.LetAsync(x => x.HideAsync())">Close</HxButton>
    </FooterTemplate>
</HxOffcanvas>

@code {
    private StepExecutionAttempt? StepExecutionAttempt { get; set; }

    private HxOffcanvas? Offcanvas { get; set; }

    public async Task ShowAsync(StepExecutionAttempt attempt)
    {
        StepExecutionAttempt = attempt;
        StateHasChanged();
        await Offcanvas.LetAsync(x => x.ShowAsync());
    }
}
