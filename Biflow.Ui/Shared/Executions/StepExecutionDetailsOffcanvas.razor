
﻿<HxOffcanvas @ref="offcanvas" Size="OffcanvasSize.Large" Title="@stepExecutionAttempt?.StepExecution.StepName">
    <BodyTemplate>
        <StepExecutionDetails StepExecutionAttempt="stepExecutionAttempt" ShowExtraDetails="true" />
    </BodyTemplate>
    <FooterTemplate>
        <HxButton Color="ThemeColor.Secondary" Spinner="false" @onclick="async () => await offcanvas.LetAsync(x => x.HideAsync())">Close</HxButton>
    </FooterTemplate>
</HxOffcanvas>

@code {
    private StepExecutionAttempt? stepExecutionAttempt;
    private HxOffcanvas? offcanvas;

    public async Task ShowAsync(StepExecutionAttempt attempt)
    {
        stepExecutionAttempt = attempt;
        StateHasChanged();
        await offcanvas.LetAsync(x => x.ShowAsync());
    }
}
