
﻿<HxOffcanvas @ref="_offcanvas" Size="OffcanvasSize.Large" Title="@_stepExecutionAttempt?.StepExecution.StepName">
    <BodyTemplate>
        <StepExecutionDetails StepExecutionAttempt="_stepExecutionAttempt" ShowExtraDetails="true" />
    </BodyTemplate>
    <FooterTemplate>
        <HxButton Color="ThemeColor.Secondary" Spinner="false" @onclick="async () => await _offcanvas.LetAsync(x => x.HideAsync())">Close</HxButton>
    </FooterTemplate>
</HxOffcanvas>

@code {
    private StepExecutionAttempt? _stepExecutionAttempt;
    private HxOffcanvas? _offcanvas;

    public async Task ShowAsync(StepExecutionAttempt attempt)
    {
        _stepExecutionAttempt = attempt;
        StateHasChanged();
        await _offcanvas.LetAsync(x => x.ShowAsync());
    }
}
